(this.webpackJsonpsteamprofcomp=this.webpackJsonpsteamprofcomp||[]).push([[0],{37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(21),c=n.n(a),s=n(14),u=n(2),i=n(4),o=n.n(i),f=n(8),p=n(12),j=n(25),l=n(19),b=n(22),m=n(23),d=function(){function e(t){Object(b.a)(this,e),this.croppingLinks=function(e){if(""!==e)return e.slice(e.lastIndexOf("/")+1)},this.apiKey=t}return Object(m.a)(e,[{key:"getSteamId",value:function(){var e=Object(f.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._sendRequest({generalInterface:"ISteamUser",method:"ResolveVanityURL",version:"v0001",query:"?key=".concat(this.apiKey,"&vanityurl=").concat(t)});case 2:return n=e.sent,e.abrupt("return",n.response.steamid);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPlayerInfo",value:function(){var e=Object(f.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._sendRequest({generalInterface:"ISteamUser",method:"GetPlayerSummaries",version:"v0002",query:"?key=3F58E57C4B88ADCBCFCD824EFC80FCFB&steamids=".concat(t)});case 2:return n=e.sent,e.abrupt("return",n.response.players[0]);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFriendListUser",value:function(){var e=Object(f.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._sendRequest({generalInterface:"ISteamUser",method:"GetFriendList",version:"v0001",query:"?key=".concat(this.apiKey,"&steamid=").concat(t,"&relationship=friend")});case 2:return r=e.sent,e.abrupt("return",r.friendslist);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLibraryGames",value:function(){var e=Object(f.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this._sendRequest({generalInterface:"IPlayerService",method:"GetOwnedGames",version:"v0001",query:"?key=".concat(this.apiKey,"&steamid=").concat(t,"&include_appinfo=true&format=json")});case 3:return n=e.sent,e.abrupt("return",n.response);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_sendRequest",value:function(){var e=Object(f.a)(o.a.mark((function e(t){var n,r,a,c,s,u,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.generalInterface,r=t.method,a=t.version,c=t.query,e.next=3,fetch("http://api.steampowered.com/".concat(n,"/").concat(r,"/").concat(a,"/").concat(c));case 3:return s=e.sent,e.next=6,s.json();case 6:return u=e.sent,e.next=9,u;case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),h=n(1),O=new d("3F58E57C4B88ADCBCFCD824EFC80FCFB"),v=function(e){var t=e.data;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("ul",{children:t.map((function(e){return Object(h.jsxs)("li",{children:["Steam url: ",e.url,Object(h.jsx)("br",{}),"Steamid: ",e.steamid,Object(h.jsx)("br",{}),"Username: ",e.info.personaname,Object(h.jsx)("br",{}),"Real name: ",e.info.realname,Object(h.jsx)("br",{}),"Games count: ",e.info.game_count,Object(h.jsx)("br",{}),Object(h.jsx)("img",{width:"115px",height:"115px",src:e.info.avatarfull,alt:"avatar"}),Object(h.jsx)("br",{})]},e.id)}))})]})},x=function(e){var t=e.data,n=e.loader;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),n?Object(h.jsx)(v,{data:t}):"Not found"]})},y=function(e){var t=e.number,n=e.url,r=e.change;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("input",{value:n,numb:t,onChange:function(e){return r(t,e.target.value)},placeholder:"Enter your url steam profile"})})};var g=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=function(e){var t=Object(r.useState)(e),n=Object(l.a)(t,2),a=n[0],c=n[1],s=function(e){c((function(t){return e.map((function(e,n){return Object(p.a)(Object(p.a)({},t[n]),{},{info:Object.assign(t[n].info,e)})}))}))},u=function(e){c((function(t){return e.map((function(e,n){return Object(p.a)(Object(p.a)({},t[n]),{},{steamid:e})}))}))},i=function(){var e=Object(f.a)(o.a.mark((function e(){var t,n,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.map((function(e){return O.croppingLinks(e.url)})),e.next=3,Promise.all(t.map((function(e){return isNaN(e)?O.getSteamId(e):e})));case 3:return n=e.sent,e.next=6,Promise.all(n.map((function(e){return O.getPlayerInfo(e)})));case 6:return r=e.sent,e.next=9,Promise.all(n.map((function(e){return O.getLibraryGames(e)})));case 9:return c=e.sent,e.next=12,Promise.all(n.map((function(e){return O.getFriendListUser(e)})));case 12:i=e.sent,u(n),s(r),s(i),s(c);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{state:a,setState:c,setURL:function(e,t){c((function(n){var r=Object(j.a)(n);return r[e].url=t,r}))},getInfo:i}}([{url:"",steamid:"",id:1,info:{}},{url:"",steamid:"",id:2,info:{}}]),s=c.state.map((function(e){return e.steamid}));return Object(r.useEffect)((function(){s.map((function(e){return a(!!e)}))}),[s]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Home page"}),Object(h.jsx)(y,{number:0,url:c.state[0].url,change:c.setURL}),Object(h.jsx)(y,{number:1,url:c.state[1].url,change:c.setURL}),Object(h.jsx)("button",{onClick:function(){return c.getInfo()},children:"Get"}),Object(h.jsx)(x,{data:c.state,loader:n})]})};var k=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"About page"})})};function w(){return Object(h.jsx)(s.a,{children:Object(h.jsx)("div",{children:Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{path:"/about",component:k}),Object(h.jsx)(u.a,{path:"/",component:g})]})})})}c.a.render(Object(h.jsx)(s.a,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.cbd4da1b.chunk.js.map